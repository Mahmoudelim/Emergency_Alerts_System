Index: app/src/main/java/com/example/emergency_alert_system/EMP/Medical_Info/medicalInfoForAcceptance.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.emergency_alert_system.EMP.Medical_Info\r\n\r\nimport android.content.ContentValues.TAG\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport androidx.fragment.app.Fragment\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.ArrayAdapter\r\nimport android.widget.Toast\r\nimport androidx.recyclerview.widget.LinearLayoutManager\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.example.emergency_alert_system.EMP.RequestAcceptance.myArray\r\nimport com.example.emergency_alert_system.EMP.RequestAcceptance.relativesPhone\r\nimport com.example.emergency_alert_system.EMP.home.RequestAdapter\r\nimport com.example.emergency_alert_system.EMP.model.Alerts\r\nimport com.example.emergencyalertsystem.R\r\nimport com.google.firebase.firestore.FirebaseFirestore\r\n\r\n// TODO: Rename parameter arguments, choose names that match\r\n// the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\nprivate const val ARG_PARAM1 = \"param1\"\r\nprivate const val ARG_PARAM2 = \"param2\"\r\n\r\n/**\r\n * A simple [Fragment] subclass.\r\n * Use the [medicalInfoForAcceptancHe.newInstance] factory method to\r\n * create an instance of this fragment.\r\n */\r\nclass medicalInfoForAcceptance : Fragment() {\r\n    // TODO: Rename and change types of parameters\r\n    private var param1: String? = null\r\n    private var param2: String? = null\r\n    lateinit var recyclerView: RecyclerView\r\n    var ChronicList: ArrayList<String>?= null\r\n    var chronicListAdapter: ChronicListAdapter? =null\r\n    val firestore: FirebaseFirestore = FirebaseFirestore.getInstance()\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        arguments?.let {\r\n            param1 = it.getString(ARG_PARAM1)\r\n            param2 = it.getString(ARG_PARAM2)\r\n        }\r\n    }\r\n\r\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\r\n                              savedInstanceState: Bundle?): View? {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_medical_info_for_acceptance, container, false)\r\n    }\r\n\r\n    companion object {\r\n        /**\r\n         * Use this factory method to create a new instance of\r\n         * this fragment using the provided parameters.\r\n         *\r\n         * @param param1 Parameter 1.\r\n         * @param param2 Parameter 2.\r\n         * @return A new instance of fragment medicalInfoForAcceptance.\r\n         */\r\n        // TODO: Rename and change types and number of parameters\r\n        @JvmStatic fun newInstance(param1: String, param2: String) =\r\n                medicalInfoForAcceptance().apply {\r\n                    arguments = Bundle().apply {\r\n                        putString(ARG_PARAM1, param1)\r\n                        putString(ARG_PARAM2, param2)\r\n                    }\r\n                }\r\n    }\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n        val layoutManager = LinearLayoutManager(context)\r\n        recyclerView = view.findViewById(R.id.chronic_recycle)\r\n        recyclerView.layoutManager = layoutManager\r\n        recyclerView.setHasFixedSize(true)\r\n\r\n        // Initialize chronicList with an empty ArrayList\r\n        ChronicList = arrayListOf()\r\n\r\n        // Retrieve user's medical info document from Firestore\r\n        val username: String = requireArguments().getString(\"username\".trim()).toString()\r\n\r\n        val medicalInfoRef = firestore.collection(\"USERS MEDICAL INFO\")\r\n        val q = medicalInfoRef.whereEqualTo(\"username\", username)\r\n\r\n        q.get()\r\n            .addOnSuccessListener { document ->\r\n                if (document != null) {\r\n                    for (documentSnapshot in document.documents) {\r\n                        // Get the array field from the document\r\n                        val list = documentSnapshot.get(\"choronic\") as ArrayList<String>\r\n                        Toast.makeText(context, \"Array from document ${documentSnapshot.id}: $list\", Toast.LENGTH_SHORT).show()\r\n                        Log.i(\"chronicList\", list.toString())\r\n                        // Add the array elements to the chronicList\r\n                        ChronicList!!.addAll(list)\r\n                    }\r\n                    chronicListAdapter = ChronicListAdapter(ChronicList!!)\r\n                    recyclerView.adapter = chronicListAdapter\r\n                    chronicListAdapter!!.notifyDataSetChanged()\r\n                } else {\r\n                    Log.d(TAG, \"No such document\")\r\n                }\r\n            }\r\n            .addOnFailureListener { exception ->\r\n                Log.d(TAG, \"Error getting document: \", exception)\r\n            }\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/emergency_alert_system/EMP/Medical_Info/medicalInfoForAcceptance.kt b/app/src/main/java/com/example/emergency_alert_system/EMP/Medical_Info/medicalInfoForAcceptance.kt
--- a/app/src/main/java/com/example/emergency_alert_system/EMP/Medical_Info/medicalInfoForAcceptance.kt	(revision 5c738d2fc646c5817e19078b02b2aaae139cac8d)
+++ b/app/src/main/java/com/example/emergency_alert_system/EMP/Medical_Info/medicalInfoForAcceptance.kt	(date 1683671007773)
@@ -1,5 +1,4 @@
 package com.example.emergency_alert_system.EMP.Medical_Info
-
 import android.content.ContentValues.TAG
 import android.os.Bundle
 import android.util.Log
@@ -17,7 +16,6 @@
 import com.example.emergency_alert_system.EMP.model.Alerts
 import com.example.emergencyalertsystem.R
 import com.google.firebase.firestore.FirebaseFirestore
-
 // TODO: Rename parameter arguments, choose names that match
 // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER
 private const val ARG_PARAM1 = "param1"
Index: app/src/main/java/com/example/emergency_alert_system/user/home/home.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.emergency_alert_system.user.home\r\n\r\nimport android.app.AlertDialog\r\nimport android.os.Bundle\r\nimport androidx.fragment.app.Fragment\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.Button\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.example.emergency_alert_system.Dialogesandmaps.EmergencyDialogFragment\r\nimport com.example.emergency_alert_system.user.AlertMaking.MakeAlert\r\nimport com.example.emergencyalertsystem.R\r\nimport kotlinx.android.synthetic.main.fragment_home2.*\r\n\r\n\r\n// TODO: Rename parameter arguments, choose names that match\r\n// the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\nprivate const val ARG_PARAM1 = \"param1\"\r\nprivate const val ARG_PARAM2 = \"param2\"\r\n\r\n/**\r\n * A simple [Fragment] subclass.\r\n * Use the [home.newInstance] factory method to\r\n * create an instance of this fragment.\r\n */\r\nclass home : Fragment() {\r\n    // TODO: Rename and change types of parameters\r\n\r\n    private var param1: String? = null\r\n    private var param2: String? = null\r\n   lateinit var recyclerView:RecyclerView\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        arguments?.let {\r\n            param1 = it.getString(ARG_PARAM1)\r\n            param2 = it.getString(ARG_PARAM2)\r\n        }\r\n    }\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n\r\n\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_home2, container, false)\r\n    }\r\n\r\n    companion object {\r\n        /**\r\n         * Use this factory method to create a new instance of\r\n         * this fragment using the provided parameters.\r\n         *\r\n         * @param param1 Parameter 1.\r\n         * @param param2 Parameter 2.\r\n         * @return A new instance of fragment home.\r\n         */\r\n        // TODO: Rename and change types and number of parameters\r\n        @JvmStatic\r\n        fun newInstance(param1: String, param2: String) =\r\n            home().apply {\r\n                arguments = Bundle().apply {\r\n                    putString(ARG_PARAM1, param1)\r\n                    putString(ARG_PARAM2, param2)\r\n                }\r\n            }\r\n    }\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n        val button = view.findViewById<Button>(R.id.alert1)\r\n        button.setOnClickListener {\r\n            val dialog = EmergencyDialogFragment.newInstance()\r\n            dialog.show(parentFragmentManager, \"emergency_dialog\")\r\n\r\n        }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/emergency_alert_system/user/home/home.kt b/app/src/main/java/com/example/emergency_alert_system/user/home/home.kt
--- a/app/src/main/java/com/example/emergency_alert_system/user/home/home.kt	(revision 5c738d2fc646c5817e19078b02b2aaae139cac8d)
+++ b/app/src/main/java/com/example/emergency_alert_system/user/home/home.kt	(date 1680969719946)
@@ -7,6 +7,7 @@
 import android.view.View
 import android.view.ViewGroup
 import android.widget.Button
+import android.widget.Switch
 import androidx.recyclerview.widget.RecyclerView
 import com.example.emergency_alert_system.Dialogesandmaps.EmergencyDialogFragment
 import com.example.emergency_alert_system.user.AlertMaking.MakeAlert
@@ -70,11 +71,17 @@
 
     override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
         super.onViewCreated(view, savedInstanceState)
-        val button = view.findViewById<Button>(R.id.alert1)
-        button.setOnClickListener {
-            val dialog = EmergencyDialogFragment.newInstance()
-            dialog.show(parentFragmentManager, "emergency_dialog")
+        val mySwitch = view.findViewById<Switch>(R.id.my_switch)
+
+        mySwitch.setOnCheckedChangeListener { buttonView, isChecked ->
+            if (isChecked) {
+                val dialog = EmergencyDialogFragment.newInstance()
+                dialog.show(parentFragmentManager, "emergency_dialog")
 
+            } else {
+                // Do something when switch is unchecked
+            }
         }
+
     }
 }
\ No newline at end of file
Index: app/src/main/res/layout/fragment_home2.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\"com.example.emergency_alert_system.user.home.home\">\r\n\r\n\r\n    <GridLayout\r\n        android:layout_width=\"0dp\"\r\n        android:layout_height=\"0dp\"\r\n        android:layout_marginStart=\"30dp\"\r\n        android:layout_marginTop=\"50dp\"\r\n        android:columnCount=\"2\"\r\n        android:rowCount=\"2\"\r\n        android:layout_marginEnd=\"30dp\"\r\n        android:layout_marginBottom=\"50dp\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\">\r\n        <androidx.cardview.widget.CardView\r\n            android:layout_height=\"0dp\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_rowWeight=\"1\"\r\n            android:layout_columnWeight=\"1\"\r\n            app:cardCornerRadius=\"15dp\"\r\n            android:layout_margin=\"5dp\"\r\n            >\r\n            <androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:orientation=\"vertical\"\r\n                android:layout_margin=\"5dp\"\r\n                android:background=\"@color/whiteMore_gray\"\r\n                >\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/imageView\"\r\n                    android:layout_width=\"60dp\"\r\n                    android:layout_height=\"60dp\"\r\n\r\n                    android:layout_marginStart=\"10dp\"\r\n                    android:layout_marginTop=\"30dp\"\r\n                    android:src=\"@drawable/c\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"40dp\"\r\n                    android:layout_marginEnd=\"10dp\"\r\n                    android:text=\"37\"\r\n                    android:textSize=\"30sp\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintStart_toEndOf=\"@+id/imageView\"\r\n                    app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"Body Temperature\"\r\n                    android:textSize=\"20sp\"\r\n                    android:textStyle=\"bold\"\r\n                    android:textColor=\"@color/black\"\r\n                    app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/imageView\" />\r\n\r\n\r\n            </androidx.constraintlayout.widget.ConstraintLayout>\r\n        </androidx.cardview.widget.CardView>\r\n        <androidx.cardview.widget.CardView\r\n            android:layout_height=\"0dp\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_rowWeight=\"1\"\r\n            android:layout_columnWeight=\"1\"\r\n            app:cardCornerRadius=\"15dp\"\r\n            android:layout_margin=\"5dp\"\r\n            >\r\n            <androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:orientation=\"vertical\"\r\n                android:layout_margin=\"5dp\"\r\n                android:background=\"@color/whiteMore_gray\"\r\n                >\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/heart_imageView\"\r\n                    android:layout_width=\"70dp\"\r\n                    android:layout_height=\"70dp\"\r\n\r\n                    android:layout_marginStart=\"10dp\"\r\n                    android:layout_marginTop=\"30dp\"\r\n                    android:src=\"@drawable/heart\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"40dp\"\r\n                    android:layout_marginEnd=\"10dp\"\r\n                    android:text=\"105\"\r\n                    android:textSize=\"30sp\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintStart_toEndOf=\"@+id/heart_imageView\"\r\n                    app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"Heart Rate\"\r\n                    android:textSize=\"20sp\"\r\n                    android:textStyle=\"bold\"\r\n                    android:textColor=\"@color/black\"\r\n                    app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/heart_imageView\" />\r\n\r\n\r\n            </androidx.constraintlayout.widget.ConstraintLayout>\r\n        </androidx.cardview.widget.CardView>\r\n        <androidx.cardview.widget.CardView\r\n            android:layout_height=\"0dp\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_rowWeight=\"1\"\r\n            android:layout_columnWeight=\"1\"\r\n            app:cardCornerRadius=\"15dp\"\r\n            android:layout_margin=\"5dp\"\r\n            >\r\n            <androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:orientation=\"vertical\"\r\n                android:layout_margin=\"5dp\"\r\n                android:background=\"@color/whiteMore_gray\"\r\n                >\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/pressure_imageView\"\r\n                    android:layout_width=\"60dp\"\r\n                    android:layout_height=\"70dp\"\r\n\r\n                    android:layout_marginStart=\"10dp\"\r\n                    android:layout_marginTop=\"30dp\"\r\n                    android:src=\"@drawable/pressure\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"10dp\"\r\n                    android:layout_marginTop=\"40dp\"\r\n                    android:layout_marginEnd=\"10dp\"\r\n                    android:text=\"60/120\"\r\n                    android:textSize=\"20sp\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintStart_toEndOf=\"@+id/pressure_imageView\"\r\n                    app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"Blood pressure\"\r\n                    android:textSize=\"20sp\"\r\n                    android:textStyle=\"bold\"\r\n                    android:textColor=\"@color/black\"\r\n                    app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/pressure_imageView\" />\r\n\r\n\r\n            </androidx.constraintlayout.widget.ConstraintLayout>\r\n        </androidx.cardview.widget.CardView>\r\n        <androidx.cardview.widget.CardView\r\n            android:layout_height=\"0dp\"\r\n            android:layout_width=\"0dp\"\r\n            android:layout_rowWeight=\"1\"\r\n            android:layout_columnWeight=\"1\"\r\n            app:cardCornerRadius=\"15dp\"\r\n            android:layout_margin=\"5dp\"\r\n            >\r\n            <androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:orientation=\"vertical\"\r\n                android:layout_margin=\"5dp\"\r\n                android:background=\"@color/whiteMore_gray\"\r\n                >\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/Spo_imageView\"\r\n                    android:layout_width=\"60dp\"\r\n                    android:layout_height=\"60dp\"\r\n\r\n                    android:layout_marginStart=\"10dp\"\r\n                    android:layout_marginTop=\"30dp\"\r\n                    android:src=\"@drawable/o\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginTop=\"40dp\"\r\n                    android:layout_marginEnd=\"10dp\"\r\n                    android:text=\"56%\"\r\n                    android:textSize=\"30sp\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintStart_toEndOf=\"@+id/Spo_imageView\"\r\n                    app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n                <TextView\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:text=\"Blood O2\"\r\n                    android:textSize=\"20sp\"\r\n                    android:textStyle=\"bold\"\r\n                    android:textColor=\"@color/black\"\r\n                    app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                    app:layout_constraintEnd_toEndOf=\"parent\"\r\n                    app:layout_constraintStart_toStartOf=\"parent\"\r\n                    app:layout_constraintTop_toBottomOf=\"@+id/Spo_imageView\" />\r\n\r\n\r\n            </androidx.constraintlayout.widget.ConstraintLayout>\r\n        </androidx.cardview.widget.CardView>\r\n    </GridLayout>\r\n\r\n    <Button\r\n        android:id=\"@+id/alert1\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Button\"\r\n        tools:layout_editor_absoluteX=\"136dp\"\r\n        tools:layout_editor_absoluteY=\"2dp\"\r\n        tools:ignore=\"MissingConstraints\" />\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_home2.xml b/app/src/main/res/layout/fragment_home2.xml
--- a/app/src/main/res/layout/fragment_home2.xml	(revision 5c738d2fc646c5817e19078b02b2aaae139cac8d)
+++ b/app/src/main/res/layout/fragment_home2.xml	(date 1680969720043)
@@ -7,6 +7,7 @@
 
 
     <GridLayout
+        android:id="@+id/grid"
         android:layout_width="0dp"
         android:layout_height="0dp"
         android:layout_marginStart="30dp"
@@ -234,13 +235,22 @@
         </androidx.cardview.widget.CardView>
     </GridLayout>
 
-    <Button
-        android:id="@+id/alert1"
+
+    <Switch
+        android:id="@+id/my_switch"
         android:layout_width="wrap_content"
         android:layout_height="wrap_content"
-        android:text="Button"
-        tools:layout_editor_absoluteX="136dp"
-        tools:layout_editor_absoluteY="2dp"
-        tools:ignore="MissingConstraints" />
+        android:text="Emergency Mood"
+
+        android:checked="false"
+        android:layout_marginTop="10dp"
+        android:layout_marginRight="10dp"
+        android:padding="16dp"
+        android:textColor="@color/black"
+        android:textSize="25sp"
+        app:layout_constraintBottom_toTopOf="@+id/grid"
+        android:layout_gravity="center_horizontal"
+        app:layout_constraintStart_toStartOf="parent"
+        />
 
 </androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/src/main/res/layout/medicine_card.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\">\r\n\r\n    <TextView\r\n        android:id=\"@+id/med_name\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        android:layout_margin=\"20dp\"\r\n        android:padding=\"10dp\"\r\n        android:textSize=\"20sp\"\r\n        android:textColor=\"@color/black\"\r\n        android:text=\"medicine name\"\r\n        />\r\n    <TextView\r\n        android:id=\"@+id/med_doc\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/med_name\"\r\n        android:layout_margin=\"20dp\"\r\n        android:padding=\"10dp\"\r\n        android:textSize=\"20sp\"\r\n        android:textColor=\"@color/black\"\r\n        android:text=\"assigned from\"\r\n        />\r\n    <TextView\r\n        android:id=\"@+id/med_time\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/med_doc\"\r\n        android:layout_margin=\"20dp\"\r\n        android:padding=\"10dp\"\r\n        android:textSize=\"20sp\"\r\n        android:textColor=\"@color/black\"\r\n        android:text=\"time\"\r\n        />\r\n    <View\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"1dp\"\r\n        android:layout_margin=\"8dp\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/med_time\"\r\n        />\r\n\r\n\r\n\r\n\r\n\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/medicine_card.xml b/app/src/main/res/layout/medicine_card.xml
--- a/app/src/main/res/layout/medicine_card.xml	(revision 5c738d2fc646c5817e19078b02b2aaae139cac8d)
+++ b/app/src/main/res/layout/medicine_card.xml	(date 1680973426617)
@@ -2,27 +2,51 @@
 <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
-    android:layout_height="match_parent"
+    android:layout_height="wrap_content"
     xmlns:app="http://schemas.android.com/apk/res-auto">
-
+<TextView
+    android:id="@+id/medi_name"
+    android:layout_width="wrap_content"
+    android:layout_height="wrap_content"
+    android:text="Medicine Name"
+    android:textSize="20dp"
+    android:textColor="@color/black"
+    app:layout_constraintTop_toTopOf="parent"
+    app:layout_constraintStart_toStartOf="parent"
+    android:layout_margin="20dp"
+    android:padding="10dp"
+    />
     <TextView
         android:id="@+id/med_name"
-        android:layout_width="match_parent"
+        android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         app:layout_constraintTop_toTopOf="parent"
-        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintStart_toEndOf="@+id/medi_name"
         android:layout_margin="20dp"
         android:padding="10dp"
         android:textSize="20sp"
         android:textColor="@color/black"
         android:text="medicine name"
         />
+    <TextView
+        android:id="@+id/addi_name"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:text="Assigned with "
+        android:textSize="20dp"
+        android:textColor="@color/black"
+        app:layout_constraintTop_toBottomOf="@id/med_name"
+        app:layout_constraintStart_toStartOf="parent"
+        android:layout_margin="20dp"
+        android:padding="10dp"
+        />
     <TextView
         android:id="@+id/med_doc"
-        android:layout_width="match_parent"
+        android:layout_width="wrap_content"
         android:layout_height="wrap_content"
         app:layout_constraintTop_toBottomOf="@+id/med_name"
         android:layout_margin="20dp"
+        app:layout_constraintStart_toEndOf="@+id/addi_name"
         android:padding="10dp"
         android:textSize="20sp"
         android:textColor="@color/black"
Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>plugins {\r\n    id 'com.android.application'\r\n    id 'org.jetbrains.kotlin.android'\r\n    id 'kotlin-android'\r\n    id 'kotlin-android-extensions'\r\n}\r\nandroid {\r\n    namespace 'com.example.emergencyalertsystem'\r\n    compileSdk 33\r\n    defaultConfig\r\n            {\r\n                applicationId \"com.example.emergencyalertsystem\"\r\n                minSdk 23\r\n                targetSdk 33\r\n                versionCode 1\r\n                versionName \"1.0\"\r\n                testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n            }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = '1.8'\r\n    }}\r\ndependencies {\r\n    implementation platform('com.google.firebase:firebase-bom:31.2.0')\r\n    implementation 'androidx.core:core-ktx:1.7.0'\r\n    implementation 'androidx.appcompat:appcompat:1.6.0'\r\n    implementation 'com.google.android.material:material:1.6.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\r\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\r\n    implementation 'androidx.navigation:navigation-fragment-ktx:2.5.3'\r\n    implementation 'androidx.navigation:navigation-ui-ktx:2.5.3'\r\n    implementation 'androidx.gridlayout:gridlayout:1.0.0'\r\n    implementation 'androidx.cardview:cardview:1.0.0'\r\n    implementation 'androidx.annotation:annotation:1.5.0'\r\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.5.1'\r\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.5.1'\r\n    implementation 'com.google.firebase:firebase-firestore:24.4.2'\r\n    implementation 'com.google.android.gms:play-services-maps:18.1.0'\r\n    implementation 'com.google.android.gms:play-services-location:21.0.1'\r\n    implementation 'com.karumi:dexter:6.2.3'\r\n    implementation 'com.google.firebase:firebase-messaging:23.1.1'\r\n    implementation 'com.google.firebase:firebase-auth-ktx:21.1.0'\r\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\r\n    implementation 'androidx.recyclerview:recyclerview:1.2.1'\r\n    testImplementation 'junit:junit:4.13.2'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\r\n}\r\napply plugin:'com.google.gms.google-services'
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/build.gradle b/app/build.gradle
--- a/app/build.gradle	(revision 5c738d2fc646c5817e19078b02b2aaae139cac8d)
+++ b/app/build.gradle	(date 1688388609921)
@@ -54,6 +54,8 @@
     implementation 'com.google.firebase:firebase-auth-ktx:21.1.0'
     implementation 'de.hdodenhof:circleimageview:3.1.0'
     implementation 'androidx.recyclerview:recyclerview:1.2.1'
+    implementation 'androidx.fragment:fragment-ktx:1.5.5'
+    implementation 'com.google.firebase:firebase-database:20.1.0'
     testImplementation 'junit:junit:4.13.2'
     androidTestImplementation 'androidx.test.ext:junit:1.1.3'
     androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'
Index: .idea/shelf/Uncommitted_changes_before_Update_at_01_04_2023_23_18__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_01_04_2023_23_18__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_01_04_2023_23_18__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_01_04_2023_23_18__Changes_.xml	(revision 5c738d2fc646c5817e19078b02b2aaae139cac8d)
+++ /dev/null	(revision 5c738d2fc646c5817e19078b02b2aaae139cac8d)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_01_04_2023_23_18_[Changes]" date="1680383950179" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_01_04_2023_23_18_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 01/04/2023 23:18 [Changes]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_06_04_2023_20_05__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_06_04_2023_20_05__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_06_04_2023_20_05__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_06_04_2023_20_05__Changes_.xml	(revision 5c738d2fc646c5817e19078b02b2aaae139cac8d)
+++ /dev/null	(revision 5c738d2fc646c5817e19078b02b2aaae139cac8d)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_06_04_2023_20_05_[Changes]" date="1680804329432" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_06_04_2023_20_05_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 06/04/2023 20:05 [Changes]" />
-</changelist>
\ No newline at end of file
Index: .idea/shelf/Uncommitted_changes_before_Update_at_06_04_2023_21_53__Changes_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Update_at_06_04_2023_21_53__Changes_.xml b/.idea/shelf/Uncommitted_changes_before_Update_at_06_04_2023_21_53__Changes_.xml
deleted file mode 100644
--- a/.idea/shelf/Uncommitted_changes_before_Update_at_06_04_2023_21_53__Changes_.xml	(revision 5c738d2fc646c5817e19078b02b2aaae139cac8d)
+++ /dev/null	(revision 5c738d2fc646c5817e19078b02b2aaae139cac8d)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Update_at_06_04_2023_21_53_[Changes]" date="1680810813248" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Update_at_06_04_2023_21_53_[Changes]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Update at 06/04/2023 21:53 [Changes]" />
-</changelist>
\ No newline at end of file
Index: app/src/main/res/menu/user_nav_menu.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n  xmlns:tools=\"http://schemas.android.com/tools\"\r\n    tools:showIn=\"navigation_view\"\r\n    \r\n\r\n    >\r\n    <group android:checkableBehavior=\"single\">\r\n        <item\r\n            android:id=\"@+id/nav_home\"\r\n            android:title=\"Home\"\r\n            android:icon=\"@drawable/ic_baseline_home_24\"\r\n            />\r\n        <item\r\n            android:id=\"@+id/choose_doctor\"\r\n            android:title=\"Assign Doctor\"\r\n            android:icon=\"@drawable/ic_baseline_search_24\"\r\n            />\r\n        <item\r\n            android:id=\"@+id/medicines2\"\r\n            android:title=\"Medicine\"\r\n            android:icon=\"@drawable/recommended_medicne\"\r\n            />\r\n        <item\r\n            android:id=\"@+id/alerts\"\r\n            android:title=\"Alerts\"\r\n            android:icon=\"@drawable/alert\"\r\n            />\r\n        <item\r\n            android:id=\"@+id/editInfo\"\r\n            android:title=\"Edit\"\r\n            android:icon=\"@drawable/edit\"\r\n            />\r\n        <item\r\n            android:id=\"@+id/Logout\"\r\n            android:title=\"Logout\"\r\n            android:icon=\"@drawable/logout\">\r\n\r\n        </item>\r\n\r\n\r\n\r\n\r\n    </group>\r\n\r\n\r\n</menu>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/menu/user_nav_menu.xml b/app/src/main/res/menu/user_nav_menu.xml
--- a/app/src/main/res/menu/user_nav_menu.xml	(revision 5c738d2fc646c5817e19078b02b2aaae139cac8d)
+++ b/app/src/main/res/menu/user_nav_menu.xml	(date 1680967463393)
@@ -32,11 +32,13 @@
             android:icon="@drawable/edit"
             />
         <item
-            android:id="@+id/Logout"
+            android:id="@+id/action_logout"
             android:title="Logout"
-            android:icon="@drawable/logout">
+            android:icon="@drawable/logout"
+
+            />
 
-        </item>
+
 
 
 
Index: app/src/main/java/com/example/emergency_alert_system/EMP/model/Alerts.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.emergency_alert_system.EMP.model\r\n\r\ndata class Alerts(var user_name:String?=null, var user_age:String?=null, var street_name:String?=null)\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/emergency_alert_system/EMP/model/Alerts.kt b/app/src/main/java/com/example/emergency_alert_system/EMP/model/Alerts.kt
--- a/app/src/main/java/com/example/emergency_alert_system/EMP/model/Alerts.kt	(revision 5c738d2fc646c5817e19078b02b2aaae139cac8d)
+++ b/app/src/main/java/com/example/emergency_alert_system/EMP/model/Alerts.kt	(date 1680961918956)
@@ -1,3 +1,3 @@
 package com.example.emergency_alert_system.EMP.model
 
-data class Alerts(var user_name:String?=null, var user_age:String?=null, var street_name:String?=null)
+data class Alerts(var user_name:String?=null, var user_age:Int?=null, var street_name:String?=null)
Index: app/src/main/res/layout/fragment_request_acceptance.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    android:orientation=\"vertical\"\r\n    tools:context=\"com.example.emergency_alert_system.EMP.RequestAcceptance.RequestAcceptance\">\r\n\r\n    <TextView\r\n        android:id=\"@+id/date\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"11/05/2020\"\r\n        android:textSize=\"18sp\"\r\n        android:padding=\"5dp\"\r\n        android:layout_marginLeft=\"5dp\"\r\n        android:gravity=\"center_vertical\"\r\n        android:drawableLeft=\"@drawable/ic_calendar\"\r\n        android:drawablePadding=\"5dp\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        />\r\n\r\n    <TextView\r\n        android:id=\"@+id/patientname\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginLeft=\"5dp\"\r\n        android:drawableLeft=\"@drawable/ic_person_pin\"\r\n        android:drawablePadding=\"5dp\"\r\n        android:gravity=\"center_vertical\"\r\n        android:padding=\"5dp\"\r\n        android:text=\"Ahmed Emad\"\r\n        android:textSize=\"16sp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/date\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n\r\n        />\r\n\r\n    <TextView\r\n        android:id=\"@+id/disease\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Broken hand\"\r\n        android:padding=\"5dp\"\r\n        android:layout_marginLeft=\"5dp\"\r\n        android:drawableLeft=\"@drawable/healthcareplus\"\r\n        android:drawablePadding=\"5dp\"\r\n        android:gravity=\"center_vertical\"\r\n        android:textSize=\"16sp\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/patientname\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        />\r\n\r\n    <TextView\r\n        android:id=\"@+id/relatives\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_margin=\"15dp\"\r\n        android:text=\"Relatives\"\r\n        android:textSize=\"20sp\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/disease\" />\r\n\r\n    <TextView\r\n        android:layout_margin=\"10dp\"\r\n        android:id=\"@+id/relativeName1\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Abdo\"\r\n        android:textSize=\"16sp\"\r\n        android:padding=\"5dp\"\r\n        android:gravity=\"center_vertical\"\r\n        android:layout_marginLeft=\"10dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/relatives\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        />\r\n    <TextView\r\n        android:id=\"@+id/phone1\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"012241942\"\r\n        android:textSize=\"16sp\"\r\n        android:padding=\"5dp\"\r\n        android:drawablePadding=\"5dp\"\r\n        android:gravity=\"center_vertical\"\r\n        android:layout_marginLeft=\"10dp\"\r\n        android:drawableLeft=\"@drawable/phone\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/relativeName1\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        />\r\n\r\n    <TextView\r\n        android:id=\"@+id/relativesName2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"7oda\"\r\n        android:textSize=\"16sp\"\r\n        android:padding=\"5dp\"\r\n        android:gravity=\"center_vertical\"\r\n        android:layout_marginLeft=\"10dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/phone1\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        />\r\n    <TextView\r\n        android:id=\"@+id/phone2\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"012241942\"\r\n        android:textSize=\"16sp\"\r\n        android:padding=\"5dp\"\r\n        android:drawablePadding=\"5dp\"\r\n        android:gravity=\"center_vertical\"\r\n        android:layout_marginLeft=\"10dp\"\r\n        android:drawableLeft=\"@drawable/phone\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/relativesName2\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"/>\r\n    <TextView\r\n        android:id=\"@+id/relative3\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Ali\"\r\n        android:textSize=\"16sp\"\r\n        android:padding=\"5dp\"\r\n        android:drawablePadding=\"5dp\"\r\n        android:gravity=\"center_vertical\"\r\n        android:layout_marginLeft=\"10dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/phone2\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"/>\r\n    <TextView\r\n        android:id=\"@+id/phonenumber\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"012241942\"\r\n        android:textSize=\"16sp\"\r\n        android:padding=\"5dp\"\r\n        android:drawablePadding=\"5dp\"\r\n        android:gravity=\"center_vertical\"\r\n        android:layout_marginLeft=\"10dp\"\r\n        android:drawableLeft=\"@drawable/phone\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/relative3\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"/>\r\n\r\n    <TextView\r\n        android:id=\"@+id/location\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_margin=\"15dp\"\r\n        android:text=\"Location\"\r\n        android:textSize=\"20sp\"\r\n        android:textStyle=\"bold\"\r\n        app:layout_constraintBottom_toTopOf=\"@+id/ST_name\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/phonenumber\"\r\n        app:layout_constraintVertical_bias=\"0.0\" />\r\n\r\n    <TextView\r\n        android:id=\"@+id/neighborhood\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Neighborhood :\"\r\n        android:textSize=\"16sp\"\r\n        android:padding=\"5dp\"\r\n        android:gravity=\"center_vertical\"\r\n        android:layout_margin=\"10dp\"\r\n        android:layout_marginLeft=\"10dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/location\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        />\r\n    <TextView\r\n        android:id=\"@+id/neighborhoodtxt\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"1000 Maskn\"\r\n        android:textSize=\"16sp\"\r\n        android:padding=\"5dp\"\r\n        android:gravity=\"center_vertical\"\r\n        android:layout_margin=\"10dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/location\"\r\n        app:layout_constraintStart_toEndOf=\"@id/neighborhood\"\r\n        />\r\n    <TextView\r\n        android:id=\"@+id/ST_name\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Street Name :\"\r\n        android:textSize=\"16sp\"\r\n        android:padding=\"5dp\"\r\n        android:gravity=\"center_vertical\"\r\n        android:layout_margin=\"10dp\"\r\n        android:layout_marginLeft=\"10dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/neighborhood\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        />\r\n    <TextView\r\n        android:id=\"@+id/street_name\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Ahmed Essmat\"\r\n        android:textSize=\"16sp\"\r\n        android:padding=\"5dp\"\r\n        android:gravity=\"center_vertical\"\r\n        android:layout_margin=\"10dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/neighborhood\"\r\n        app:layout_constraintStart_toEndOf=\"@id/ST_name\"\r\n        />\r\n    <TextView\r\n        android:id=\"@+id/building_number1\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"building number :\"\r\n        android:textSize=\"16sp\"\r\n        android:padding=\"5dp\"\r\n        android:gravity=\"center_vertical\"\r\n        android:layout_margin=\"10dp\"\r\n        android:layout_marginLeft=\"10dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/ST_name\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        />\r\n    <TextView\r\n        android:id=\"@+id/building_numbertxt\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"14\"\r\n        android:textSize=\"16sp\"\r\n        android:padding=\"5dp\"\r\n        android:gravity=\"center_vertical\"\r\n        android:layout_margin=\"10dp\"\r\n        app:layout_constraintTop_toBottomOf=\"@id/ST_name\"\r\n        app:layout_constraintStart_toEndOf=\"@id/building_number1\"\r\n        />\r\n\r\n    <Button\r\n        android:id=\"@+id/toMedical\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/building_number1\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        android:layout_margin=\"30dp\"\r\n        style=\"@style/btn_style\"\r\n        android:background=\"@drawable/btn_background\"\r\n        android:text=\"medical Info\"\r\n        />\r\n\r\n\r\n\r\n\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_request_acceptance.xml b/app/src/main/res/layout/fragment_request_acceptance.xml
--- a/app/src/main/res/layout/fragment_request_acceptance.xml	(revision 5c738d2fc646c5817e19078b02b2aaae139cac8d)
+++ b/app/src/main/res/layout/fragment_request_acceptance.xml	(date 1680962334993)
@@ -38,20 +38,7 @@
 
         />
 
-    <TextView
-        android:id="@+id/disease"
-        android:layout_width="match_parent"
-        android:layout_height="wrap_content"
-        android:text="Broken hand"
-        android:padding="5dp"
-        android:layout_marginLeft="5dp"
-        android:drawableLeft="@drawable/healthcareplus"
-        android:drawablePadding="5dp"
-        android:gravity="center_vertical"
-        android:textSize="16sp"
-        app:layout_constraintTop_toBottomOf="@id/patientname"
-        app:layout_constraintStart_toStartOf="parent"
-        />
+
 
     <TextView
         android:id="@+id/relatives"
@@ -63,7 +50,7 @@
         android:textStyle="bold"
         app:layout_constraintEnd_toEndOf="parent"
         app:layout_constraintStart_toStartOf="parent"
-        app:layout_constraintTop_toBottomOf="@+id/disease" />
+        app:layout_constraintTop_toBottomOf="@+id/patientname" />
 
     <TextView
         android:layout_margin="10dp"
Index: app/src/main/java/com/example/emergency_alert_system/user/UserDachboard.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.emergency_alert_system.user\r\n\r\nimport android.annotation.SuppressLint\r\nimport android.content.ContentValues.TAG\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport android.view.MenuItem\r\nimport android.view.View\r\nimport android.view.ViewConfiguration\r\nimport android.widget.TextView\r\nimport android.widget.Toast\r\nimport androidx.appcompat.app.ActionBar\r\nimport androidx.appcompat.app.ActionBarDrawerToggle\r\nimport androidx.drawerlayout.widget.DrawerLayout\r\nimport androidx.navigation.NavController\r\nimport androidx.navigation.findNavController\r\nimport androidx.navigation.ui.AppBarConfiguration\r\nimport androidx.navigation.ui.navigateUp\r\nimport androidx.navigation.ui.setupActionBarWithNavController\r\nimport androidx.navigation.ui.setupWithNavController\r\nimport com.example.emergencyalertsystem.R\r\nimport com.google.firebase.auth.FirebaseAuth\r\nimport com.google.firebase.firestore.FirebaseFirestore\r\nimport kotlinx.android.synthetic.main.activity_user_dachboard.*\r\nimport kotlinx.android.synthetic.main.activity_user_dachboard.view.*\r\nimport kotlinx.android.synthetic.main.nav_header.*\r\n\r\nclass UserDachboard : AppCompatActivity() {\r\n    lateinit var appBarConfiguration: AppBarConfiguration\r\n     lateinit var navController: NavController\r\n     lateinit var drawerLayout: DrawerLayout\r\n\r\n    @SuppressLint(\"MissingInflatedId\")\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_user_dachboard)\r\n        val useremail = findViewById<TextView>(R.id.user_email_navview)\r\n        val nusername = findViewById<TextView>(R.id.user_name_navview)\r\n\r\n        var mAuth:FirebaseAuth\r\n        var firestore:FirebaseFirestore\r\n        mAuth= FirebaseAuth.getInstance()\r\n        firestore=FirebaseFirestore.getInstance()\r\n        val UID = mAuth.currentUser!!.uid\r\n        val userref = firestore.collection(\"USERS\").document(UID).get()\r\n            .addOnSuccessListener { document ->\r\n                val userName: String? = document.getString(\"username\")\r\n                val userEmail: String? = document.getString(\"email\")\r\n                Toast.makeText(this, \"$userEmail and $userName\", Toast.LENGTH_SHORT).show()\r\n                if (useremail != null && nusername != null) {\r\n                    user_email_navview.text=userEmail\r\n                    user_name_navview.text=userName\r\n                } else {\r\n                    Log.d(TAG, \"TextView is null\")\r\n                }\r\n            }\r\n            .addOnFailureListener { exception ->\r\n                Log.d(TAG, \"Error getting user document: \", exception)\r\n            }\r\n        navController=findNavController(R.id.user_nav_host_fragment)\r\n        drawerLayout=findViewById(R.id.drawer_layout)\r\n        nav_view.setupWithNavController(navController)\r\n        appBarConfiguration= AppBarConfiguration(navController.graph,drawerLayout)\r\n        setupActionBarWithNavController(navController,appBarConfiguration)\r\n\r\n    }\r\n\r\n    override fun onSupportNavigateUp(): Boolean {\r\n        val navController=findNavController(R.id.user_nav_host_fragment)\r\n        return navController.navigateUp(appBarConfiguration)|| super.onSupportNavigateUp()\r\n    }\r\n}\r\n\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/emergency_alert_system/user/UserDachboard.kt b/app/src/main/java/com/example/emergency_alert_system/user/UserDachboard.kt
--- a/app/src/main/java/com/example/emergency_alert_system/user/UserDachboard.kt	(revision 5c738d2fc646c5817e19078b02b2aaae139cac8d)
+++ b/app/src/main/java/com/example/emergency_alert_system/user/UserDachboard.kt	(date 1680968211263)
@@ -2,16 +2,14 @@
 
 import android.annotation.SuppressLint
 import android.content.ContentValues.TAG
-import androidx.appcompat.app.AppCompatActivity
+import android.content.Intent
 import android.os.Bundle
 import android.util.Log
 import android.view.MenuItem
 import android.view.View
-import android.view.ViewConfiguration
 import android.widget.TextView
 import android.widget.Toast
-import androidx.appcompat.app.ActionBar
-import androidx.appcompat.app.ActionBarDrawerToggle
+import androidx.appcompat.app.AppCompatActivity
 import androidx.drawerlayout.widget.DrawerLayout
 import androidx.navigation.NavController
 import androidx.navigation.findNavController
@@ -19,14 +17,17 @@
 import androidx.navigation.ui.navigateUp
 import androidx.navigation.ui.setupActionBarWithNavController
 import androidx.navigation.ui.setupWithNavController
+import com.example.emergency_alert_system.MainActivity
 import com.example.emergencyalertsystem.R
+import com.google.android.material.navigation.NavigationView
 import com.google.firebase.auth.FirebaseAuth
 import com.google.firebase.firestore.FirebaseFirestore
 import kotlinx.android.synthetic.main.activity_user_dachboard.*
 import kotlinx.android.synthetic.main.activity_user_dachboard.view.*
 import kotlinx.android.synthetic.main.nav_header.*
 
-class UserDachboard : AppCompatActivity() {
+
+class UserDachboard : AppCompatActivity()  {
     lateinit var appBarConfiguration: AppBarConfiguration
      lateinit var navController: NavController
      lateinit var drawerLayout: DrawerLayout
@@ -48,12 +49,14 @@
                 val userName: String? = document.getString("username")
                 val userEmail: String? = document.getString("email")
                 Toast.makeText(this, "$userEmail and $userName", Toast.LENGTH_SHORT).show()
-                if (useremail != null && nusername != null) {
-                    user_email_navview.text=userEmail
-                    user_name_navview.text=userName
-                } else {
-                    Log.d(TAG, "TextView is null")
-                }
+                     if (nusername !=null && useremail !=null) {
+                         Log.i("uyuy", userName.toString())
+
+                         nusername.text=userName
+                         useremail.text=userEmail
+                     }
+
+
             }
             .addOnFailureListener { exception ->
                 Log.d(TAG, "Error getting user document: ", exception)
@@ -69,7 +72,10 @@
     override fun onSupportNavigateUp(): Boolean {
         val navController=findNavController(R.id.user_nav_host_fragment)
         return navController.navigateUp(appBarConfiguration)|| super.onSupportNavigateUp()
+
     }
+
+
 }
 
 
Index: app/src/main/java/com/example/emergency_alert_system/user/AlertMaking/MakeAlert.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.emergency_alert_system.user.AlertMaking\r\n\r\nimport android.util.Log\r\nimport android.widget.Toast\r\nimport com.example.emergency_alert_system.EMP.creation.Emergency_point\r\nimport com.example.emergency_alert_system.user.creation.user_location\r\nimport com.google.firebase.auth.FirebaseAuth\r\nimport com.google.firebase.firestore.*\r\n\r\nvar nm :String = \"\"\r\nvar Nearest_EP:String=\"\"\r\nclass MakeAlert {\r\n    //login user name\r\n    var mAuth: FirebaseAuth = FirebaseAuth.getInstance()\r\n    var firestore:FirebaseFirestore=FirebaseFirestore.getInstance()\r\n    val UID =mAuth.currentUser!!.uid\r\n    var negihborhoodEP: MutableList<Emergency_point>? =mutableListOf()\r\n    var userLocation: user_location? = null\r\n    val userref=firestore.collection(\"USERS\".trim()).document(UID).get().addOnSuccessListener { document ->\r\n        nm = document.data!![\"username\".trim()].toString()\r\n\r\n        //get user location from fireStore\r\n\r\n\r\n        val docRef: DocumentReference =\r\n            firestore.collection(\"USERS Adresses\").document(\"$nm:Address\")\r\n        docRef.get().addOnCompleteListener { task ->\r\n            if (task.isSuccessful) {\r\n                val documentSnapshot = task.result\r\n                if (documentSnapshot != null) {\r\n                    userLocation = documentSnapshot.toObject(user_location::class.java)!!\r\n                }\r\n            }\r\n        }\r\n    }\r\n    var result= mutableListOf<Emergency_point>()\r\n    fun nearestGPSCoridnate(userLocation: user_location, neighborhood:String) :String{\r\n        var nearestEP = Emergency_point()\r\n        var nearestEPName=\"\"\r\n        val neighborhoodRef = firestore.collection(\"Emergency point\").whereEqualTo(\"naighbourhood\", neighborhood)\r\n        neighborhoodRef.get().addOnCompleteListener { task ->\r\n            if (task.isSuccessful) {\r\n                val documentSnapshot = task.result\r\n                if (documentSnapshot != null) {\r\n                    result = documentSnapshot.toObjects(Emergency_point::class.java)!!\r\n                    nearestEP=result[0]\r\n                    for (EP in result) {\r\n                        val lat = userLocation.latitude\r\n                        val long = userLocation.longitude\r\n                        val targetlat = EP.latitude\r\n                        val targetLong = EP.longitude\r\n                        val nearestEPLat=nearestEP!!.latitude\r\n                        val nearestEPLong=nearestEP.longitude\r\n                        if (lat!!.minus(targetlat!!) < nearestEPLat!!.minus(targetlat)!!\r\n                            && long!!.minus(targetLong!!) < nearestEPLong!!.minus(targetLong)!!)\r\n                        {\r\n                            nearestEP = EP\r\n                        }\r\n                    }\r\n\r\n\r\n                    // move the return statement here\r\n                    nearestEPName = nearestEP.EPName.toString()\r\n                    Log.i(\"nearestEPName\", nearestEPName.toString())\r\n                    Nearest_EP=nearestEP.EPName.toString()\r\n                    return@addOnCompleteListener\r\n                }\r\n            }\r\n\r\n            Log.i(\"nearest\", nearestEP.toString())\r\n        }\r\n        Log.i(\"nearest2333\", Nearest_EP)\r\n        return Nearest_EP\r\n    }\r\n    fun findNearestEP(userLocation: user_location): String? {\r\n        var nearestEp: String? = null\r\n        if (userLocation.state == \"Cairo\".trim()) {\r\n            Log.i(\"iiiii\", userLocation.state.toString())\r\n            when (userLocation.naighbourrhood) {\r\n                \"Elmarg\" -> nearestEp = nearestGPSCoridnate(userLocation, \"Elmarg\")\r\n                \"Badr City\"->nearestEp=nearestGPSCoridnate(userLocation,\"Badr City\")\r\n                \"ainshams\" -> nearestEp = nearestGPSCoridnate(userLocation, \"ainshams\")\r\n            }\r\n        } else if (userLocation.state == \"Alex\") {\r\n\r\n        }\r\n        return nearestEp\r\n    }\r\n    fun AlertToEp() {\r\n        val alertMap = hashMapOf(\r\n            \"user_name\" to nm,\r\n            \"user_age\" to \"44\" ,\r\n            \"street_name\" to \"Ahmed Essmat\"\r\n\r\n\r\n\r\n        )\r\n        val nearestEp: String? = userLocation?.let { findNearestEP(it) }\r\n        firestore.collection(\"$nearestEp requests\").document(\"$nm request\").set(alertMap)\r\n\r\n    }\r\n\r\n    fun AlertToRelatives() {}\r\n    fun AlertToDoc() {}\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/emergency_alert_system/user/AlertMaking/MakeAlert.kt b/app/src/main/java/com/example/emergency_alert_system/user/AlertMaking/MakeAlert.kt
--- a/app/src/main/java/com/example/emergency_alert_system/user/AlertMaking/MakeAlert.kt	(revision 5c738d2fc646c5817e19078b02b2aaae139cac8d)
+++ b/app/src/main/java/com/example/emergency_alert_system/user/AlertMaking/MakeAlert.kt	(date 1680961644105)
@@ -9,6 +9,8 @@
 
 var nm :String = ""
 var Nearest_EP:String=""
+var streetName=""
+var age:Number=2
 class MakeAlert {
     //login user name
     var mAuth: FirebaseAuth = FirebaseAuth.getInstance()
@@ -86,11 +88,26 @@
         }
         return nearestEp
     }
+
     fun AlertToEp() {
+
+        firestore.collection("USERS Adresses").document("${nm}:Address ".trim()).get().addOnSuccessListener {document->
+            streetName=document.getString("streetname").toString()
+            Log.i("streeetName",streetName)
+
+        }
+        firestore.collection("USERS").document(UID).get().addOnSuccessListener {document->
+            age = document.getLong("age") ?: 0 // Use getLong() to retrieve the age as a number
+            Log.i("agee", age.toString())
+
+        }
+
+        Log.i("streetname",streetName)
+
         val alertMap = hashMapOf(
             "user_name" to nm,
-            "user_age" to "44" ,
-            "street_name" to "Ahmed Essmat"
+            "user_age" to age ,
+            "street_name" to streetName
 
 
 
